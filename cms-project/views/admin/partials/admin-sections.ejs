<!-- Video Section -->
<div id="video-section" class="content-section hidden">
    <div class="mb-6">
        <h2 class="text-2xl font-bold text-gray-900 mb-2">Video Section Management</h2>
        <p class="text-gray-600">Upload and manage your hero background video.</p>
    </div>

    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
        <form action="/admin/video/update" method="POST" enctype="multipart/form-data" class="space-y-6">
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                
                <!-- Current Video -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Current Video</label>
                    <div class="border border-gray-300 rounded-lg p-4">
                        <video class="w-full h-48 object-cover rounded-lg" controls>
                            <source src="/media/<%= content.hero && content.hero.backgroundVideo ? content.hero.backgroundVideo : 'homebackground.mp4' %>" type="video/mp4">
                        </video>
                        <p class="mt-2 text-sm text-gray-600">
                            Current: <%= content.hero && content.hero.backgroundVideo ? content.hero.backgroundVideo : 'homebackground.mp4' %>
                        </p>
                    </div>
                </div>

                <!-- Upload New Video -->
                <div>
                    <label for="video" class="block text-sm font-medium text-gray-700 mb-2">Upload New Video</label>
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-indigo-400 transition duration-200">
                        <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                        <p class="text-sm text-gray-600 mb-2">Click to upload or drag and drop</p>
                        <input type="file" id="video" name="video" accept="video/*" class="hidden" onchange="handleVideoUpload(this)">
                        <button type="button" onclick="document.getElementById('video').click()" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition duration-200">
                            Choose Video File
                        </button>
                        <p class="text-xs text-gray-500 mt-2">MP4, WebM up to 50MB</p>
                    </div>
                    <div id="videoPreview" class="mt-4 hidden">
                        <video class="w-full h-48 object-cover rounded-lg" controls></video>
                    </div>
                </div>

            </div>

            <!-- Hero Content -->
            <div class="border-t pt-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Hero Content (Optional)</h3>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    
                    <div>
                        <label for="hero_hashtag" class="block text-sm font-medium text-gray-700 mb-2">Hashtag</label>
                        <input type="text" id="hero_hashtag" name="hero[hashtag]" value="<%= content.hero && content.hero.hashtag ? content.hero.hashtag : '' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="FitnessGoals">
                    </div>

                    <div>
                        <label for="hero_title" class="block text-sm font-medium text-gray-700 mb-2">Main Title</label>
                        <input type="text" id="hero_title" name="hero[title]" value="<%= content.hero && content.hero.title ? content.hero.title : '' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Transform Your Life">
                    </div>

                    <div class="lg:col-span-2">
                        <label for="hero_description" class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                        <textarea id="hero_description" name="hero[description]" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Hero description text..."><%= content.hero && content.hero.description ? content.hero.description : '' %></textarea>
                    </div>

                    <div>
                        <label for="hero_button_text" class="block text-sm font-medium text-gray-700 mb-2">Button Text</label>
                        <input type="text" id="hero_button_text" name="hero[buttonText]" value="<%= content.hero && content.hero.buttonText ? content.hero.buttonText : '' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Get Started">
                    </div>

                    <div>
                        <label for="hero_button_link" class="block text-sm font-medium text-gray-700 mb-2">Button Link</label>
                        <input type="text" id="hero_button_link" name="hero[buttonLink]" value="<%= content.hero && content.hero.buttonLink ? content.hero.buttonLink : '' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="/contact">
                    </div>

                </div>
            </div>

            <div class="flex justify-end space-x-4">
                <button type="button" onclick="showSection('overview')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition duration-200">
                    Cancel
                </button>
                <button type="submit" class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition duration-200">
                    <i class="fas fa-save mr-2"></i>Save Changes
                </button>
            </div>

        </form>
    </div>
</div>

<!-- Services Section -->
<div id="services-section" class="content-section hidden">
    <div class="mb-6 flex justify-between items-center">
        <div>
            <h2 class="text-2xl font-bold text-gray-900 mb-2">Services Management</h2>
            <p class="text-gray-600">Manage your service offerings and details.</p>
        </div>
        <button onclick="addNewService()" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition duration-200">
            <i class="fas fa-plus mr-2"></i>Add Service
        </button>
    </div>

    <form action="/admin/services/update" method="POST" enctype="multipart/form-data" class="space-y-6">
        
        <!-- Section Header -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Section Header</h3>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div>
                    <label for="services_title" class="block text-sm font-medium text-gray-700 mb-2">Section Title</label>
                    <input type="text" id="services_title" name="services[sectionTitle]" value="<%= content.services && content.services.sectionTitle ? content.services.sectionTitle : '' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Our Services">
                </div>
                <div>
                    <label for="services_subtitle" class="block text-sm font-medium text-gray-700 mb-2">Section Subtitle</label>
                    <textarea id="services_subtitle" name="services[sectionSubtitle]" rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Brief description of your services..."><%= content.services && content.services.sectionSubtitle ? content.services.sectionSubtitle : '' %></textarea>
                </div>
            </div>
        </div>

        <!-- Services List -->
        <div id="servicesList" class="space-y-6">
            <% for(let i = 1; i <= 5; i++) { %>
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 service-item">
                <form action="/admin/services/update-single" method="POST" enctype="multipart/form-data" class="space-y-4">
                    <input type="hidden" name="serviceIndex" value="<%= i %>">
                    
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold text-gray-900">Service <%= i %></h3>
                        <div class="flex space-x-2">
                            <button type="submit" class="bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition duration-200">
                                <i class="fas fa-save mr-1"></i>Save
                            </button>
                            <button type="button" onclick="removeService(this)" class="text-red-600 hover:text-red-800 transition duration-200">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Service Title</label>
                            <input type="text" name="services[service<%= i %>_title]" value="<%= content.services && content.services[`service${i}_title`] ? content.services[`service${i}_title`] : '' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Service title">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Price</label>
                            <input type="text" name="services[service<%= i %>_price]" value="<%= content.services && content.services[`service${i}_price`] ? content.services[`service${i}_price`] : '' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="CHF 150.â€“ per hour">
                        </div>

                        <div class="lg:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                            <textarea name="services[service<%= i %>_description]" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Service description..."><%= content.services && content.services[`service${i}_description`] ? content.services[`service${i}_description`] : '' %></textarea>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Service Icon</label>
                            
                            <!-- Current Icon Display -->
                            <div class="mb-3">
                                <div class="w-16 h-16 border border-gray-300 rounded-lg flex items-center justify-center bg-gray-50">
                                    <% if (content.services && content.services[`service${i}_icon`]) { %>
                                    <img src="/media/<%= content.services[`service${i}_icon`] %>" alt="Service Icon" class="w-12 h-12 object-contain">
                                    <% } else { %>
                                    <i class="fas fa-image text-gray-400 text-xl"></i>
                                    <% } %>
                                </div>
                                <p class="text-xs text-gray-500 mt-1">Current: <%= content.services && content.services[`service${i}_icon`] ? content.services[`service${i}_icon`] : 'No icon uploaded' %></p>
                            </div>
                            
                            <!-- Icon Upload -->
                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-indigo-400 transition duration-200">
                                <i class="fas fa-upload text-2xl text-gray-400 mb-2"></i>
                                <p class="text-sm text-gray-600 mb-2">Upload Service Icon</p>
                                <input type="file" id="service<%= i %>_icon" name="service<%= i %>_icon" accept="image/*" class="hidden" onchange="handleIconUpload(this, '<%= i %>')">
                                <button type="button" onclick="document.getElementById('service<%= i %>_icon').click()" class="bg-indigo-600 text-white px-3 py-1 rounded text-sm hover:bg-indigo-700 transition duration-200">
                                    Choose Icon
                                </button>
                                <p class="text-xs text-gray-500 mt-1">PNG, JPG, SVG up to 5MB</p>
                            </div>

                            <!-- Icon Preview -->
                            <div id="iconPreview<%= i %>" class="mt-3 hidden">
                                <div class="w-16 h-16 border border-gray-300 rounded-lg flex items-center justify-center bg-gray-50">
                                    <img class="w-12 h-12 object-contain" alt="Icon Preview">
                                </div>
                                <p class="text-xs text-gray-500 mt-1">New icon preview</p>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Link URL</label>
                            <input type="text" name="services[service<%= i %>_link]" value="<%= content.services && content.services[`service${i}_link`] ? content.services[`service${i}_link`] : '' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="/services/details">
                        </div>

                    </div>
                </form>
            </div>
            <% } %>
        </div>

        <div class="flex justify-end space-x-4">
            <button type="button" onclick="showSection('overview')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition duration-200">
                Cancel
            </button>
            <button type="submit" class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition duration-200">
                <i class="fas fa-save mr-2"></i>Save Services
            </button>
        </div>

    </form>
</div>

<!-- Team Section -->
<div id="team-section" class="content-section hidden">
    <div class="mb-6 flex justify-between items-center">
        <div>
            <h2 class="text-2xl font-bold text-gray-900 mb-2">Team Management</h2>
            <p class="text-gray-600">Manage your team members and about section.</p>
        </div>
        <button onclick="addTeamMember()" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition duration-200">
            <i class="fas fa-plus mr-2"></i>Add Member
        </button>
    </div>

    <form action="/admin/team/update" method="POST" enctype="multipart/form-data" class="space-y-6">
        
        <!-- About Section -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">About Section</h3>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                
                <div>
                    <label for="about_subtitle" class="block text-sm font-medium text-gray-700 mb-2">Subtitle</label>
                    <input type="text" id="about_subtitle" name="about[subtitle]" value="<%= content.about && content.about.subtitle ? content.about.subtitle : 'THIS IS US' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="THIS IS US">
                </div>

                <div>
                    <label for="about_title" class="block text-sm font-medium text-gray-700 mb-2">Main Title</label>
                    <input type="text" id="about_title" name="about[title]" value="<%= content.about && content.about.title ? content.about.title : 'THIS TEAM HAS ONE GOAL: YOUR SUCCESS' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Main title">
                </div>

                <div>
                    <label for="about_primary_button_text" class="block text-sm font-medium text-gray-700 mb-2">Primary Button Text</label>
                    <input type="text" id="about_primary_button_text" name="about[primaryButtonText]" value="<%= content.about && content.about.primaryButtonText ? content.about.primaryButtonText : 'Free Initial Consultation' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Primary button">
                </div>

                <div>
                    <label for="about_primary_button_link" class="block text-sm font-medium text-gray-700 mb-2">Primary Button Link</label>
                    <input type="text" id="about_primary_button_link" name="about[primaryButtonLink]" value="<%= content.about && content.about.primaryButtonLink ? content.about.primaryButtonLink : '#' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="/contact">
                </div>

                <div>
                    <label for="about_secondary_button_text" class="block text-sm font-medium text-gray-700 mb-2">Secondary Button Text</label>
                    <input type="text" id="about_secondary_button_text" name="about[secondaryButtonText]" value="<%= content.about && content.about.secondaryButtonText ? content.about.secondaryButtonText : 'Explore Careers' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Secondary button">
                </div>

                <div>
                    <label for="about_secondary_button_link" class="block text-sm font-medium text-gray-700 mb-2">Secondary Button Link</label>
                    <input type="text" id="about_secondary_button_link" name="about[secondaryButtonLink]" value="<%= content.about && content.about.secondaryButtonLink ? content.about.secondaryButtonLink : '#' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="/careers">
                </div>

            </div>
        </div>

        <!-- Team Members -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold text-gray-900">Team Members</h3>
                <button type="button" onclick="addTeamMember()" class="bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition duration-200">
                    <i class="fas fa-plus mr-1"></i>Add Member
                </button>
            </div>
            
            <div id="teamMembersList" class="space-y-4">
                <!-- Dynamic team members will be rendered here -->
                <% 
                // Check if we have team member data from CMS
                let teamMembers = [];
                if (content.team) {
                    for (let i = 1; i <= 10; i++) {
                        if (content.team[`member${i}_name`]) {
                            teamMembers.push({
                                index: i,
                                name: content.team[`member${i}_name`],
                                position: content.team[`member${i}_position`] || '',
                                photo: content.team[`member${i}_photo`] || '',
                                bio: content.team[`member${i}_bio`] || '',
                                email: content.team[`member${i}_email`] || '',
                                phone: content.team[`member${i}_phone`] || '',
                                social_linkedin: content.team[`member${i}_social_linkedin`] || '',
                                social_instagram: content.team[`member${i}_social_instagram`] || ''
                            });
                        }
                    }
                }
                
                // If no team members exist, show default members
                if (teamMembers.length === 0) {
                    teamMembers = [
                        { index: 1, name: 'MALTE PRIMUS', position: 'Co-Founder & Head Coach', photo: 'malte.jpg', bio: '', email: '', phone: '', social_linkedin: '', social_instagram: '' },
                        { index: 2, name: 'MAX BARDE', position: 'Co-Founder & Head Coach', photo: 'max.jpg', bio: '', email: '', phone: '', social_linkedin: '', social_instagram: '' }
                    ];
                }
                %>
                
                <% teamMembers.forEach((member, index) => { %>
                <div class="team-member-card border border-gray-200 rounded-lg p-4">
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="font-medium text-gray-900">Team Member <%= member.index %></h4>
                        <div class="flex space-x-2">
                            <button type="button" onclick="saveTeamMember('<%= member.index %>')" class="bg-blue-600 text-white px-2 py-1 rounded text-xs hover:bg-blue-700 transition duration-200">
                                <i class="fas fa-save mr-1"></i>Save
                            </button>
                            <% if (teamMembers.length > 1) { %>
                            <button type="button" onclick="removeTeamMember(this)" class="text-red-600 hover:text-red-800 transition duration-200">
                                <i class="fas fa-trash"></i>
                            </button>
                            <% } %>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                        <!-- Basic Information -->
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                                <input type="text" name="team[member<%= member.index %>_name]" value="<%= member.name %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter full name">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Position/Title</label>
                                <input type="text" name="team[member<%= member.index %>_position]" value="<%= member.position %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Job title or position">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                <input type="email" name="team[member<%= member.index %>_email]" value="<%= member.email %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="email@example.com">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Phone</label>
                                <input type="tel" name="team[member<%= member.index %>_phone]" value="<%= member.phone %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="+41 xx xxx xx xx">
                            </div>
                        </div>
                        
                        <!-- Photo and Additional Info -->
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Profile Photo</label>
                                
                                <!-- Current Photo Display -->
                                <% if (member.photo) { %>
                                <div class="mb-3">
                                    <div class="w-20 h-20 border border-gray-300 rounded-lg overflow-hidden">
                                        <img src="/media/<%= member.photo %>" alt="<%= member.name %>" class="w-full h-full object-cover">
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1">Current: <%= member.photo %></p>
                                </div>
                                <% } %>
                                
                                <!-- Photo Upload -->
                                <div class="border-2 border-dashed border-gray-300 rounded-lg p-3 text-center hover:border-indigo-400 transition duration-200">
                                    <i class="fas fa-camera text-xl text-gray-400 mb-2"></i>
                                    <p class="text-sm text-gray-600 mb-2">Upload Photo</p>
                                    <input type="file" id="member<%= member.index %>_photo" name="member<%= member.index %>_photo" accept="image/*" class="hidden" onchange="handleTeamPhotoUpload(this, '<%= member.index %>')">
                                    <button type="button" onclick="document.getElementById('member<%= member.index %>_photo').click()" class="bg-indigo-600 text-white px-2 py-1 rounded text-xs hover:bg-indigo-700 transition duration-200">
                                        Choose Photo
                                    </button>
                                    <p class="text-xs text-gray-500 mt-1">JPG, PNG up to 5MB</p>
                                </div>
                                
                                <!-- Selected File Name Display -->
                                <div id="fileName<%= member.index %>" class="mt-2 hidden">
                                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-2">
                                        <div class="flex items-center">
                                            <i class="fas fa-file-image text-blue-500 mr-2"></i>
                                            <span class="text-sm text-blue-700 font-medium" id="fileNameText<%= member.index %>"></span>
                                            <button type="button" onclick="clearSelectedFile('<%= member.index %>')" class="ml-auto text-red-500 hover:text-red-700">
                                                <i class="fas fa-times text-xs"></i>
                                            </button>
                                        </div>
                                        <p class="text-xs text-blue-600 mt-1">Ready to upload</p>
                                    </div>
                                </div>
                                
                                <!-- Photo Preview -->
                                <div id="photoPreview<%= member.index %>" class="mt-3 hidden">
                                    <div class="w-20 h-20 border border-gray-300 rounded-lg overflow-hidden">
                                        <img class="w-full h-full object-cover" alt="Photo Preview">
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1">New photo preview</p>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Bio/Description</label>
                                <textarea name="team[member<%= member.index %>_bio]" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Brief bio or description..."><%= member.bio %></textarea>
                            </div>
                        </div>
                        
                        <!-- Social Media -->
                        <div class="lg:col-span-2">
                            <h5 class="text-sm font-medium text-gray-700 mb-3">Social Media Links</h5>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">LinkedIn</label>
                                    <input type="url" name="team[member<%= member.index %>_social_linkedin]" value="<%= member.social_linkedin %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="https://linkedin.com/in/username">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Instagram</label>
                                    <input type="url" name="team[member<%= member.index %>_social_instagram]" value="<%= member.social_instagram %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="https://instagram.com/username">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <% }); %>
            </div>
        </div>

        <div class="flex justify-end space-x-4">
            <button type="button" onclick="showSection('overview')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition duration-200">
                Cancel
            </button>
            <button type="submit" class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition duration-200">
                <i class="fas fa-save mr-2"></i>Save Team
            </button>
        </div>

    </form>
</div>

<!-- Concept Section -->
<div id="concept-section" class="content-section hidden">
    <div class="mb-6">
        <h2 class="text-2xl font-bold text-gray-900 mb-2">Concept Section Management</h2>
        <p class="text-gray-600">Edit your concept section content and features.</p>
    </div>

    <form action="/admin/concept/update" method="POST" enctype="multipart/form-data" class="space-y-6">
        
        <!-- Main Content -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Main Content</h3>
            <div class="space-y-4">
                
                <div>
                    <label for="concept_subtitle" class="block text-sm font-medium text-gray-700 mb-2">Subtitle</label>
                    <input type="text" id="concept_subtitle" name="concept[subtitle]" value="<%= content.concept && content.concept.subtitle ? content.concept.subtitle : 'THE MCQ CONCEPT' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="THE MCQ CONCEPT">
                </div>

                <div>
                    <label for="concept_title" class="block text-sm font-medium text-gray-700 mb-2">Main Title</label>
                    <input type="text" id="concept_title" name="concept[title]" value="<%= content.concept && content.concept.title ? content.concept.title : 'PERSONALIZATION LEADS TO RESULTS' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Main title">
                </div>

                <div>
                    <label for="concept_description" class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                    <textarea id="concept_description" name="concept[description]" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Concept description..."><%= content.concept && content.concept.description ? content.concept.description : 'Don\'t talk, get things done. Our goals are measurable, and the impact is noticeable in everyday life. Customer support that doesn\'t end after training. We want you to feel more energetic, sleep better, and integrate optimal nutrition into your daily routine. The expertise of our qualified trainers makes this possible.' %></textarea>
                </div>

            </div>
        </div>

        <!-- Features -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Features</h3>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                
                <!-- Feature 1 -->
                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-medium text-gray-900 mb-3">Feature 1</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Icon</label>
                            <!-- Current Icon Display -->
                            <% if (content.concept && content.concept.feature1_icon) { %>
                            <div class="mb-2 p-2 bg-gray-50 rounded border">
                                <img src="/media/<%= content.concept.feature1_icon %>" alt="Current Icon" class="w-12 h-12 object-contain inline-block mr-2">
                                <span class="text-sm text-gray-600">Current: <%= content.concept.feature1_icon %></span>
                            </div>
                            <% } %>
                            
                            <!-- Icon Upload -->
                            <div class="flex space-x-2">
                                <input type="file" name="feature1_icon" accept="image/*" class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" onchange="previewIcon(this, 'feature1_preview')">
                                <button type="button" onclick="clearIconUpload('feature1_icon', 'feature1_preview')" class="px-3 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300">Clear</button>
                            </div>
                            
                            <!-- Icon Preview -->
                            <div id="feature1_preview" class="mt-2 hidden">
                                <img class="w-12 h-12 object-contain border rounded" alt="Preview">
                                <span class="text-sm text-gray-600 ml-2"></span>
                            </div>
                            
                            <!-- Hidden input for icon path (fallback) -->
                            <input type="hidden" name="concept[feature1_icon]" value="<%= content.concept && content.concept.feature1_icon ? content.concept.feature1_icon : '/media/Icon-Team-five-stars.svg.png' %>">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Title</label>
                            <input type="text" name="concept[feature1_title]" value="<%= content.concept && content.concept.feature1_title ? content.concept.feature1_title : 'YOUR TEAM OF EXPERTS' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                            <textarea name="concept[feature1_text]" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"><%= content.concept && content.concept.feature1_text ? content.concept.feature1_text : 'Never stand still. Combined knowledge from over 10 academic degrees, over 100 seminars, tens of thousands of hours of personal training, and a focus on various areas of expertise, all with a consistent foundation.' %></textarea>
                        </div>
                    </div>
                </div>

                <!-- Feature 2 -->
                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-medium text-gray-900 mb-3">Feature 2</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Icon</label>
                            <!-- Current Icon Display -->
                            <% if (content.concept && content.concept.feature2_icon) { %>
                            <div class="mb-2 p-2 bg-gray-50 rounded border">
                                <img src="/media/<%= content.concept.feature2_icon %>" alt="Current Icon" class="w-12 h-12 object-contain inline-block mr-2">
                                <span class="text-sm text-gray-600">Current: <%= content.concept.feature2_icon %></span>
                            </div>
                            <% } %>
                            
                            <!-- Icon Upload -->
                            <div class="flex space-x-2">
                                <input type="file" name="feature2_icon" accept="image/*" class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" onchange="previewIcon(this, 'feature2_preview')">
                                <button type="button" onclick="clearIconUpload('feature2_icon', 'feature2_preview')" class="px-3 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300">Clear</button>
                            </div>
                            
                            <!-- Icon Preview -->
                            <div id="feature2_preview" class="mt-2 hidden">
                                <img class="w-12 h-12 object-contain border rounded" alt="Preview">
                                <span class="text-sm text-gray-600 ml-2"></span>
                            </div>
                            
                            <!-- Hidden input for icon path (fallback) -->
                            <input type="hidden" name="concept[feature2_icon]" value="<%= content.concept && content.concept.feature2_icon ? content.concept.feature2_icon : '/media/Icon-Space.svg.png' %>">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Title</label>
                            <input type="text" name="concept[feature2_title]" value="<%= content.concept && content.concept.feature2_title ? content.concept.feature2_title : 'THE PERFECT PLACE' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                            <textarea name="concept[feature2_text]" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"><%= content.concept && content.concept.feature2_text ? content.concept.feature2_text : 'More than just a gym. We trainers are like a family, and our clients also value the MTM Gym as a place with a positive vibe. A good body image and enjoyment of the program are just as important as consistent training.' %></textarea>
                        </div>
                    </div>
                </div>

                <!-- Feature 3 -->
                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-medium text-gray-900 mb-3">Feature 3</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Icon</label>
                            <!-- Current Icon Display -->
                            <% if (content.concept && content.concept.feature3_icon) { %>
                            <div class="mb-2 p-2 bg-gray-50 rounded border">
                                <img src="/media/<%= content.concept.feature3_icon %>" alt="Current Icon" class="w-12 h-12 object-contain inline-block mr-2">
                                <span class="text-sm text-gray-600">Current: <%= content.concept.feature3_icon %></span>
                            </div>
                            <% } %>
                            
                            <!-- Icon Upload -->
                            <div class="flex space-x-2">
                                <input type="file" name="feature3_icon" accept="image/*" class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" onchange="previewIcon(this, 'feature3_preview')">
                                <button type="button" onclick="clearIconUpload('feature3_icon', 'feature3_preview')" class="px-3 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300">Clear</button>
                            </div>
                            
                            <!-- Icon Preview -->
                            <div id="feature3_preview" class="mt-2 hidden">
                                <img class="w-12 h-12 object-contain border rounded" alt="Preview">
                                <span class="text-sm text-gray-600 ml-2"></span>
                            </div>
                            
                            <!-- Hidden input for icon path (fallback) -->
                            <input type="hidden" name="concept[feature3_icon]" value="<%= content.concept && content.concept.feature3_icon ? content.concept.feature3_icon : '/media/Icon-Monitoring.svg.png' %>">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Title</label>
                            <input type="text" name="concept[feature3_title]" value="<%= content.concept && content.concept.feature3_title ? content.concept.feature3_title : 'REGULAR CHECK-UPS' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                            <textarea name="concept[feature3_text]" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"><%= content.concept && content.concept.feature3_text ? content.concept.feature3_text : 'A medical history is taken every 4 weeks according to standard practice. Data on your physical development and nutritional biomarkers form the basis for adjustments to your plan.' %></textarea>
                        </div>
                    </div>
                </div>

                <!-- Feature 4 -->
                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-medium text-gray-900 mb-3">Feature 4</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Icon</label>
                            <!-- Current Icon Display -->
                            <% if (content.concept && content.concept.feature4_icon) { %>
                            <div class="mb-2 p-2 bg-gray-50 rounded border">
                                <img src="/media/<%= content.concept.feature4_icon %>" alt="Current Icon" class="w-12 h-12 object-contain inline-block mr-2">
                                <span class="text-sm text-gray-600">Current: <%= content.concept.feature4_icon %></span>
                            </div>
                            <% } %>
                            
                            <!-- Icon Upload -->
                            <div class="flex space-x-2">
                                <input type="file" name="feature4_icon" accept="image/*" class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" onchange="previewIcon(this, 'feature4_preview')">
                                <button type="button" onclick="clearIconUpload('feature4_icon', 'feature4_preview')" class="px-3 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300">Clear</button>
                            </div>
                            
                            <!-- Icon Preview -->
                            <div id="feature4_preview" class="mt-2 hidden">
                                <img class="w-12 h-12 object-contain border rounded" alt="Preview">
                                <span class="text-sm text-gray-600 ml-2"></span>
                            </div>
                            
                            <!-- Hidden input for icon path (fallback) -->
                            <input type="hidden" name="concept[feature4_icon]" value="<%= content.concept && content.concept.feature4_icon ? content.concept.feature4_icon : '/media/Icon-Training.svg.png' %>">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Title</label>
                            <input type="text" name="concept[feature4_title]" value="<%= content.concept && content.concept.feature4_title ? content.concept.feature4_title : 'PERIODIZED TRAINING ROUTINE' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                            <textarea name="concept[feature4_text]" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"><%= content.concept && content.concept.feature4_text ? content.concept.feature4_text : 'Periodized training based on sports science and your assessment. The MTM program uses varying intensity cycles to improve your performance over the long term.' %></textarea>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="flex justify-end space-x-4">
            <button type="button" onclick="showSection('overview')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition duration-200">
                Cancel
            </button>
            <button type="submit" class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition duration-200">
                <i class="fas fa-save mr-2"></i>Save Concept
            </button>
        </div>

    </form>
</div>

<!-- Testimonials Section -->
<div id="testimonials-section" class="content-section hidden">
    <div class="mb-6 flex justify-between items-center">
        <div>
            <h2 class="text-2xl font-bold text-gray-900 mb-2">Testimonials Management</h2>
            <p class="text-gray-600">Manage customer testimonials and reviews.</p>
        </div>
        <button onclick="addTestimonial()" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition duration-200">
            <i class="fas fa-plus mr-2"></i>Add Testimonial
        </button>
    </div>

    <form action="/admin/testimonials/update" method="POST" class="space-y-6">
        
        <!-- Section Header -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Section Header</h3>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                
                <div>
                    <label for="testimonials_heading" class="block text-sm font-medium text-gray-700 mb-2">Main Heading</label>
                    <input type="text" id="testimonials_heading" name="testimonials[heading]" value="<%= content.testimonials && content.testimonials.heading ? content.testimonials.heading : 'Global Personal Training Client Reviews' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                </div>

                <div>
                    <label for="testimonials_subheading" class="block text-sm font-medium text-gray-700 mb-2">Subheading</label>
                    <input type="text" id="testimonials_subheading" name="testimonials[subheading]" value="<%= content.testimonials && content.testimonials.subheading ? content.testimonials.subheading : 'See what more than 7,500 of our clients across the globe say' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                </div>

                <div>
                    <label for="testimonials_rating" class="block text-sm font-medium text-gray-700 mb-2">Rating Score</label>
                    <input type="text" id="testimonials_rating" name="testimonials[rating]" value="<%= content.testimonials && content.testimonials.rating ? content.testimonials.rating : '4.9 â˜…â˜…â˜…â˜…â˜…' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                </div>

                <div>
                    <label for="testimonials_count" class="block text-sm font-medium text-gray-700 mb-2">Rating Count</label>
                    <input type="text" id="testimonials_count" name="testimonials[count]" value="<%= content.testimonials && content.testimonials.count ? content.testimonials.count : 'Based on (7,500+)' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                </div>

            </div>
        </div>

        <!-- Testimonials List -->
        <div id="testimonialsList" class="space-y-6">
            <% for(let i = 1; i <= 6; i++) { %>
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 testimonial-item">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">Testimonial <%= i %></h3>
                    <button type="button" onclick="removeTestimonial(this)" class="text-red-600 hover:text-red-800 transition duration-200">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Client Name & Location</label>
                        <input type="text" name="testimonials[testimonial<%= i %>_name]" value="<%= content.testimonials && content.testimonials['testimonial' + i + '_name'] ? content.testimonials['testimonial' + i + '_name'] : (i === 1 ? 'Rodrigo Maciel (London - City)' : '') %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Client name and location">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Star Rating</label>
                        <% const currentStars = content.testimonials && content.testimonials['testimonial' + i + '_stars'] ? content.testimonials['testimonial' + i + '_stars'] : 'â˜…â˜…â˜…â˜…â˜…'; %>
                        <select name="testimonials[testimonial<%= i %>_stars]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="â˜…â˜…â˜…â˜…â˜…" <%= currentStars === 'â˜…â˜…â˜…â˜…â˜…' ? 'selected' : '' %>>â˜…â˜…â˜…â˜…â˜… (5 stars)</option>
                            <option value="â˜…â˜…â˜…â˜…â˜†" <%= currentStars === 'â˜…â˜…â˜…â˜…â˜†' ? 'selected' : '' %>>â˜…â˜…â˜…â˜…â˜† (4 stars)</option>
                            <option value="â˜…â˜…â˜…â˜†â˜†" <%= currentStars === 'â˜…â˜…â˜…â˜†â˜†' ? 'selected' : '' %>>â˜…â˜…â˜…â˜†â˜† (3 stars)</option>
                            <option value="â˜…â˜…â˜†â˜†â˜†" <%= currentStars === 'â˜…â˜…â˜†â˜†â˜†' ? 'selected' : '' %>>â˜…â˜…â˜†â˜†â˜† (2 stars)</option>
                            <option value="â˜…â˜†â˜†â˜†â˜†" <%= currentStars === 'â˜…â˜†â˜†â˜†â˜†' ? 'selected' : '' %>>â˜…â˜†â˜†â˜†â˜† (1 star)</option>
                        </select>
                    </div>

                    <div class="lg:col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Review Text</label>
                        <textarea name="testimonials[testimonial<%= i %>_text]" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Client review text..."><%= content.testimonials && content.testimonials['testimonial' + i + '_text'] ? content.testimonials['testimonial' + i + '_text'] : (i === 1 ? 'Joining UP is the best investment I have ever made. I\'ve achieved results which, after years of hard training and healthy eating, I never thought my body was capable of. I\'ve gained so much from this process, I\'m more educated...' : '') %></textarea>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Review Link</label>
                        <input type="text" name="testimonials[testimonial<%= i %>_link]" value="<%= content.testimonials && content.testimonials['testimonial' + i + '_link'] ? content.testimonials['testimonial' + i + '_link'] : '#' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Link to full review">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Link Text</label>
                        <input type="text" name="testimonials[testimonial<%= i %>_link_text]" value="<%= content.testimonials && content.testimonials['testimonial' + i + '_link_text'] ? content.testimonials['testimonial' + i + '_link_text'] : 'Full review on Google' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Link text">
                    </div>

                </div>
            </div>
            <% } %>
        </div>

        <div class="flex justify-end space-x-4">
            <button type="button" onclick="showSection('overview')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition duration-200">
                Cancel
            </button>
            <button type="submit" class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition duration-200">
                <i class="fas fa-save mr-2"></i>Save Testimonials
            </button>
        </div>

    </form>
</div>

<!-- Contact Section -->
<div id="contact-section" class="content-section hidden">
    <div class="mb-6">
        <h2 class="text-2xl font-bold text-gray-900 mb-2">Contact Form Management</h2>
        <p class="text-gray-600">Manage contact form content and view submissions.</p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        
        <!-- Contact Form Content -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Form Content</h3>
            <form action="/admin/contact/update" method="POST" class="space-y-4">
                
                <div>
                    <label for="contact_title" class="block text-sm font-medium text-gray-700 mb-2">Form Title</label>
                    <textarea id="contact_title" name="contact[title]" rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"><%= content.contact && content.contact.title ? content.contact.title : 'GET IN TOUCH FOR A INITIAL CONSULTATION' %></textarea>
                </div>

                <div>
                    <label for="contact_highlighted" class="block text-sm font-medium text-gray-700 mb-2">Highlighted Text</label>
                    <input type="text" id="contact_highlighted" name="contact[highlighted]" value="<%= content.contact && content.contact.highlighted ? content.contact.highlighted : 'INITIAL CONSULTATION' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                </div>

                <button type="submit" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition duration-200">
                    <i class="fas fa-save mr-2"></i>Save Content
                </button>

            </form>
        </div>

        <!-- Recent Submissions -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold text-gray-900">Contact Submissions</h3>
                <button onclick="refreshContacts()" class="text-sm bg-indigo-100 text-indigo-700 px-3 py-1 rounded-lg hover:bg-indigo-200">
                    <i class="fas fa-refresh mr-1"></i>Refresh
                </button>
            </div>
            
            <!-- Contact Stats -->
            <div class="grid grid-cols-4 gap-4 mb-6">
                <div class="text-center">
                    <div class="text-2xl font-bold text-blue-600" id="total-contacts">-</div>
                    <div class="text-xs text-gray-600">Total</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-yellow-600" id="new-contacts">-</div>
                    <div class="text-xs text-gray-600">New</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-green-600" id="replied-contacts">-</div>
                    <div class="text-xs text-gray-600">Replied</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-gray-600" id="archived-contacts">-</div>
                    <div class="text-xs text-gray-600">Archived</div>
                </div>
            </div>

            <!-- Contact List -->
            <div id="contacts-list" class="space-y-3">
                <div class="text-center text-gray-500 py-8">
                    <i class="fas fa-spinner fa-spin text-2xl mb-2"></i>
                    <p>Loading contact submissions...</p>
                </div>
            </div>

            <div class="mt-4 text-center">
                <button onclick="loadMoreContacts()" id="load-more-btn" class="text-indigo-600 hover:text-indigo-700 text-sm" style="display: none;">
                    Load More â†’
                </button>
            </div>
        </div>

    </div>
</div>

<!-- Benefits Section -->
<div id="benefits-section" class="content-section hidden">
    <div class="mb-6">
        <h2 class="text-2xl font-bold text-gray-900 mb-2">Benefits Section Management</h2>
        <p class="text-gray-600">Edit the benefits section content.</p>
    </div>

    <form action="/admin/benefits/update" method="POST" class="space-y-6">
        
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                
                <!-- Left Side -->
                <div class="border border-gray-200 rounded-lg p-4">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Left Side Content</h3>
                    <div class="space-y-4">
                        
                        <div>
                            <label for="benefits_left_title" class="block text-sm font-medium text-gray-700 mb-2">Title</label>
                            <input type="text" id="benefits_left_title" name="benefits[benefit1_title]" value="<%= content.benefits && content.benefits.benefit1_title ? content.benefits.benefit1_title : 'Discover your benefits' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>

                        <div>
                            <label for="benefits_left_description" class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                            <textarea id="benefits_left_description" name="benefits[benefit1_description]" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"><%= content.benefits && content.benefits.benefit1_description ? content.benefits.benefit1_description : 'The key to a strong body and a happy mind: from couch potato to fitness superhero - the impressive changes your body can undergo with regular training!' %></textarea>
                        </div>

                        <div>
                            <label for="benefits_left_button" class="block text-sm font-medium text-gray-700 mb-2">Button Text</label>
                            <input type="text" id="benefits_left_button" name="benefits[benefit1_button_text]" value="<%= content.benefits && content.benefits.benefit1_button_text ? content.benefits.benefit1_button_text : 'More information' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>

                        <div>
                            <label for="benefits_left_button_link" class="block text-sm font-medium text-gray-700 mb-2">Button Link</label>
                            <input type="text" id="benefits_left_button_link" name="benefits[benefit1_button_link]" value="<%= content.benefits && content.benefits.benefit1_button_link ? content.benefits.benefit1_button_link : '#' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                            <label for="benefits_left_link" class="block text-sm font-medium text-gray-700 mb-2">Button Link</label>
                            <input type="text" id="benefits_left_link" name="benefits[leftLink]" value="#" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>

                    </div>
                </div>

                <!-- Right Side -->
                <div class="border border-gray-200 rounded-lg p-4">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Right Side Content</h3>
                    <div class="space-y-4">
                        
                        <div>
                            <label for="benefits_right_title" class="block text-sm font-medium text-gray-700 mb-2">Title</label>
                            <input type="text" id="benefits_right_title" name="benefits[benefit2_title]" value="<%= content.benefits && content.benefits.benefit2_title ? content.benefits.benefit2_title : 'Discover your benefits' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>

                        <div>
                            <label for="benefits_right_description" class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                            <textarea id="benefits_right_description" name="benefits[benefit2_description]" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"><%= content.benefits && content.benefits.benefit2_description ? content.benefits.benefit2_description : 'The key to a strong body and a happy mind: from couch potato to fitness superhero - the impressive changes your body can undergo with regular training!' %></textarea>
                        </div>

                        <div>
                            <label for="benefits_right_button" class="block text-sm font-medium text-gray-700 mb-2">Button Text</label>
                            <input type="text" id="benefits_right_button" name="benefits[benefit2_button_text]" value="<%= content.benefits && content.benefits.benefit2_button_text ? content.benefits.benefit2_button_text : 'More information' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>

                        <div>
                            <label for="benefits_right_link" class="block text-sm font-medium text-gray-700 mb-2">Button Link</label>
                            <input type="text" id="benefits_right_link" name="benefits[benefit2_button_link]" value="<%= content.benefits && content.benefits.benefit2_button_link ? content.benefits.benefit2_button_link : '#' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>

                    </div>
                </div>

            </div>
        </div>

        


<!-- FAQ Section -->
<div id="faq-section" class="content-section hidden">
    <div class="mb-6 flex justify-between items-center">
        <div>
            <h2 class="text-2xl font-bold text-gray-900 mb-2">FAQ Management</h2>
            <p class="text-gray-600">Manage frequently asked questions.</p>
        </div>
        <button onclick="addFAQ()" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition duration-200">
            <i class="fas fa-plus mr-2"></i>Add FAQ
        </button>
    </div>

    <form action="/admin/faq/update" method="POST" class="space-y-6">
        
        <!-- Section Header -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Section Header</h3>
            <div>
                <label for="faq_title" class="block text-sm font-medium text-gray-700 mb-2">Section Title</label>
                <input type="text" id="faq_title" name="faq[section_title]" value="<%= content.faq && content.faq.section_title ? content.faq.section_title : 'Frequently Asked Questions' %>" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
            </div>
        </div>

        <!-- FAQ List -->
        <div id="faqList" class="space-y-6">
            <% for(let i = 1; i <= 5; i++) { %>
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 faq-item">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">FAQ <%= i %></h3>
                    <button type="button" onclick="removeFAQ(this)" class="text-red-600 hover:text-red-800 transition duration-200">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
                
                <div class="space-y-4">
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Question</label>
                        <textarea name="faq[faq<%= i %>_question]" rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="FAQ question..."><%= content.faq && content.faq['faq' + i + '_question'] ? content.faq['faq' + i + '_question'] : (i === 1 ? 'I need consultation about the prices of StrongX\'s services?' : '') %></textarea>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Answer</label>
                        <textarea name="faq[faq<%= i %>_answer]" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="FAQ answer..."><%= content.faq && content.faq['faq' + i + '_answer'] ? content.faq['faq' + i + '_answer'] : (i === 1 ? 'Our prices depend on your goals. Contact us for a personalized quote and free consultation.' : '') %></textarea>
                    </div>

                </div>
            </div>
            <% } %>
        </div>

        <div class="flex justify-end space-x-4">
            <button type="button" onclick="showSection('overview')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition duration-200">
                Cancel
            </button>
            <button type="submit" class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition duration-200">
                <i class="fas fa-save mr-2"></i>Save FAQ
            </button>
        </div>

    </form>
</div>

<!-- Newsletter Section -->
<div id="newsletter-section" class="content-section hidden">
    <div class="mb-6">
        <h2 class="text-2xl font-bold text-gray-900 mb-2">Newsletter Management</h2>
        <p class="text-gray-600">Manage newsletter signup section and subscribers.</p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        
        <!-- Newsletter Content -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Newsletter Content</h3>
            <form action="/admin/newsletter/update" method="POST" class="space-y-4">
                
                <div>
                    <label for="newsletter_title" class="block text-sm font-medium text-gray-700 mb-2">Main Title</label>
                    <textarea id="newsletter_title" name="newsletter[title]" rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">Take the First Step Towards a Healthier You</textarea>
                </div>

                <div>
                    <label for="newsletter_description" class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                    <textarea id="newsletter_description" name="newsletter[description]" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">Join MCQ Today and Transform Your Life with Expert Guidance, Personalized Programs, and a Supportive Community. Your Fitness Journey Starts Now!</textarea>
                </div>

                <div>
                    <label for="newsletter_button" class="block text-sm font-medium text-gray-700 mb-2">Button Text</label>
                    <input type="text" id="newsletter_button" name="newsletter[buttonText]" value="Join Now" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                </div>

                <div>
                    <label for="newsletter_terms" class="block text-sm font-medium text-gray-700 mb-2">Terms Text</label>
                    <textarea id="newsletter_terms" name="newsletter[termsText]" rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">By clicking Sign Up you're confirming that you agree with our Terms and Conditions.</textarea>
                </div>

                <button type="submit" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition duration-200">
                    <i class="fas fa-save mr-2"></i>Save Content
                </button>

            </form>
        </div>

        <!-- Newsletter Subscribers -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Recent Subscribers</h3>
            <div class="space-y-3">
                
                <div class="flex justify-between items-center p-3 border border-gray-200 rounded-lg">
                    <div>
                        <p class="font-medium text-gray-900">john@example.com</p>
                        <p class="text-xs text-gray-500">Subscribed 2 hours ago</p>
                    </div>
                    <button class="text-red-600 hover:text-red-800">
                        <i class="fas fa-trash text-sm"></i>
                    </button>
                </div>

                <div class="flex justify-between items-center p-3 border border-gray-200 rounded-lg">
                    <div>
                        <p class="font-medium text-gray-900">jane@example.com</p>
                        <p class="text-xs text-gray-500">Subscribed 1 day ago</p>
                    </div>
                    <button class="text-red-600 hover:text-red-800">
                        <i class="fas fa-trash text-sm"></i>
                    </button>
                </div>

                <div class="flex justify-between items-center p-3 border border-gray-200 rounded-lg">
                    <div>
                        <p class="font-medium text-gray-900">mike@example.com</p>
                        <p class="text-xs text-gray-500">Subscribed 3 days ago</p>
                    </div>
                    <button class="text-red-600 hover:text-red-800">
                        <i class="fas fa-trash text-sm"></i>
                    </button>
                </div>

                <a href="/admin/newsletter/subscribers" class="block text-center text-indigo-600 hover:text-indigo-700 text-sm mt-4">
                    View All Subscribers (247) â†’
                </a>

            </div>

            <!-- Export Options -->
            <div class="mt-6 pt-6 border-t border-gray-200">
                <h4 class="font-medium text-gray-900 mb-3">Export Subscribers</h4>
                <div class="space-y-2">
                    <button class="w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition duration-200 text-sm">
                        <i class="fas fa-file-csv mr-2"></i>Export as CSV
                    </button>
                    <button class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200 text-sm">
                        <i class="fas fa-file-excel mr-2"></i>Export as Excel
                    </button>
                </div>
            </div>

        </div>

    </div>
</div>

<script>
    function handleVideoUpload(input) {
        const file = input.files[0];
        if (file) {
            const preview = document.getElementById('videoPreview');
            const video = preview.querySelector('video');
            
            const reader = new FileReader();
            reader.onload = function(e) {
                video.src = e.target.result;
                preview.classList.remove('hidden');
            };
            reader.readAsDataURL(file);
        }
    }

    function handleIconUpload(input, serviceIndex) {
        const file = input.files[0];
        if (file) {
            const preview = document.getElementById('iconPreview' + serviceIndex);
            const img = preview.querySelector('img');
            
            const reader = new FileReader();
            reader.onload = function(e) {
                img.src = e.target.result;
                preview.classList.remove('hidden');
            };
            reader.readAsDataURL(file);
        }
    }

    function addNewService() {
        const servicesList = document.getElementById('servicesList');
        const serviceCount = servicesList.children.length + 1;
        
        const serviceHTML = `
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 service-item">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">Service ${serviceCount}</h3>
                    <button type="button" onclick="removeService(this)" class="text-red-600 hover:text-red-800 transition duration-200">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Service Title</label>
                        <input type="text" name="services[service${serviceCount}_title]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Service title">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Price</label>
                        <input type="text" name="services[service${serviceCount}_price]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="CHF 150.â€“ per hour">
                    </div>
                    <div class="lg:col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                        <textarea name="services[service${serviceCount}_description]" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Service description..."></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Icon Path</label>
                        <input type="text" name="services[service${serviceCount}_icon]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="/media/icon.png">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Link URL</label>
                        <input type="text" name="services[service${serviceCount}_link]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="/services/details">
                    </div>
                </div>
            </div>
        `;
        
        servicesList.insertAdjacentHTML('beforeend', serviceHTML);
    }

    function removeService(button) {
        if (confirm('Are you sure you want to remove this service?')) {
            button.closest('.service-item').remove();
        }
    }

    function addTeamMember() {
        // Implementation for adding team members
        alert('Add team member functionality - to be implemented based on requirements');
    }

    function addTestimonial() {
        const testimonialsList = document.getElementById('testimonialsList');
        const testimonialCount = testimonialsList.children.length + 1;
        
        const testimonialHTML = `
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 testimonial-item">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">Testimonial ${testimonialCount}</h3>
                    <button type="button" onclick="removeTestimonial(this)" class="text-red-600 hover:text-red-800 transition duration-200">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Client Name & Location</label>
                        <input type="text" name="testimonials[testimonial${testimonialCount}_name]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Client name and location">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Star Rating</label>
                        <select name="testimonials[testimonial${testimonialCount}_stars]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="â˜…â˜…â˜…â˜…â˜…" selected>â˜…â˜…â˜…â˜…â˜… (5 stars)</option>
                            <option value="â˜…â˜…â˜…â˜…â˜†">â˜…â˜…â˜…â˜…â˜† (4 stars)</option>
                            <option value="â˜…â˜…â˜…â˜†â˜†">â˜…â˜…â˜…â˜†â˜† (3 stars)</option>
                            <option value="â˜…â˜…â˜†â˜†â˜†">â˜…â˜…â˜†â˜†â˜† (2 stars)</option>
                            <option value="â˜…â˜†â˜†â˜†â˜†">â˜…â˜†â˜†â˜†â˜† (1 star)</option>
                        </select>
                    </div>
                    <div class="lg:col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Review Text</label>
                        <textarea name="testimonials[testimonial${testimonialCount}_text]" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Client review text..."></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Review Link</label>
                        <input type="text" name="testimonials[testimonial${testimonialCount}_link]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Link to full review">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Link Text</label>
                        <input type="text" name="testimonials[testimonial${testimonialCount}_link_text]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Link text">
                    </div>
                </div>
            </div>
        `;
        
        testimonialsList.insertAdjacentHTML('beforeend', testimonialHTML);
    }

    function removeTestimonial(button) {
        if (confirm('Are you sure you want to remove this testimonial?')) {
            button.closest('.testimonial-item').remove();
        }
    }

    function addFAQ() {
        const faqList = document.getElementById('faqList');
        const faqCount = faqList.children.length + 1;
        
        const faqHTML = `
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 faq-item">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">FAQ ${faqCount}</h3>
                    <button type="button" onclick="removeFAQ(this)" class="text-red-600 hover:text-red-800 transition duration-200">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Question</label>
                        <textarea name="faq[question${faqCount}]" rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="FAQ question..."></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Answer</label>
                        <textarea name="faq[answer${faqCount}]" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="FAQ answer..."></textarea>
                    </div>
                </div>
            </div>
        `;
        
        faqList.insertAdjacentHTML('beforeend', faqHTML);
    }

    function removeFAQ(button) {
        if (confirm('Are you sure you want to remove this FAQ?')) {
            button.closest('.faq-item').remove();
        }
    }

    // Team Member Management Functions
    function addTeamMember() {
        const teamList = document.getElementById('teamMembersList');
        const memberCount = teamList.children.length + 1;
        
        const memberHTML = `
            <div class="team-member-card border border-gray-200 rounded-lg p-4">
                <div class="flex justify-between items-center mb-4">
                    <h4 class="font-medium text-gray-900">Team Member ${memberCount}</h4>
                    <div class="flex space-x-2">
                        <button type="button" onclick="saveTeamMember('${memberCount}')" class="bg-blue-600 text-white px-2 py-1 rounded text-xs hover:bg-blue-700 transition duration-200">
                            <i class="fas fa-save mr-1"></i>Save
                        </button>
                        <button type="button" onclick="removeTeamMember(this)" class="text-red-600 hover:text-red-800 transition duration-200">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                    <!-- Basic Information -->
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                            <input type="text" name="team[member${memberCount}_name]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter full name">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Position/Title</label>
                            <input type="text" name="team[member${memberCount}_position]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Job title or position">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                            <input type="email" name="team[member${memberCount}_email]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="email@example.com">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Phone</label>
                            <input type="tel" name="team[member${memberCount}_phone]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="+41 xx xxx xx xx">
                        </div>
                    </div>
                    
                    <!-- Photo and Additional Info -->
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Profile Photo</label>
                            
                            <!-- Photo Upload -->
                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-3 text-center hover:border-indigo-400 transition duration-200">
                                <i class="fas fa-camera text-xl text-gray-400 mb-2"></i>
                                <p class="text-sm text-gray-600 mb-2">Upload Photo</p>
                                <input type="file" id="member${memberCount}_photo" name="member${memberCount}_photo" accept="image/*" class="hidden" onchange="handleTeamPhotoUpload(this, '${memberCount}')">
                                <button type="button" onclick="document.getElementById('member${memberCount}_photo').click()" class="bg-indigo-600 text-white px-2 py-1 rounded text-xs hover:bg-indigo-700 transition duration-200">
                                    Choose Photo
                                </button>
                                <p class="text-xs text-gray-500 mt-1">JPG, PNG up to 5MB</p>
                            </div>
                            
                            <!-- Selected File Name Display -->
                            <div id="fileName${memberCount}" class="mt-2 hidden">
                                <div class="bg-blue-50 border border-blue-200 rounded-lg p-2">
                                    <div class="flex items-center">
                                        <i class="fas fa-file-image text-blue-500 mr-2"></i>
                                        <span class="text-sm text-blue-700 font-medium" id="fileNameText${memberCount}"></span>
                                        <button type="button" onclick="clearSelectedFile('${memberCount}')" class="ml-auto text-red-500 hover:text-red-700">
                                            <i class="fas fa-times text-xs"></i>
                                        </button>
                                    </div>
                                    <p class="text-xs text-blue-600 mt-1">Ready to upload</p>
                                </div>
                            </div>
                            
                            <!-- Photo Preview -->
                            <div id="photoPreview${memberCount}" class="mt-3 hidden">
                                <div class="w-20 h-20 border border-gray-300 rounded-lg overflow-hidden">
                                    <img class="w-full h-full object-cover" alt="Photo Preview">
                                </div>
                                <p class="text-xs text-gray-500 mt-1">New photo preview</p>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Bio/Description</label>
                            <textarea name="team[member${memberCount}_bio]" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Brief bio or description..."></textarea>
                        </div>
                    </div>
                    
                    <!-- Social Media -->
                    <div class="lg:col-span-2">
                        <h5 class="text-sm font-medium text-gray-700 mb-3">Social Media Links</h5>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">LinkedIn</label>
                                <input type="url" name="team[member${memberCount}_social_linkedin]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="https://linkedin.com/in/username">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Instagram</label>
                                <input type="url" name="team[member${memberCount}_social_instagram]" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="https://instagram.com/username">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `;
        
        teamList.insertAdjacentHTML('beforeend', memberHTML);
    }

    function removeTeamMember(button) {
        if (confirm('Are you sure you want to delete this team member permanently?')) {
            // Get member index from the button's closest member card
            const memberCard = button.closest('.team-member-card');
            const nameInput = memberCard.querySelector('input[name*="_name"]');
            
            if (!nameInput) {
                alert('Could not find member information');
                return;
            }
            
            // Extract member index from input name (e.g., "team[member3_name]" -> "3")
            const inputName = nameInput.name;
            const memberIndex = inputName.match(/member(\d+)_name/)[1];
            
            console.log('Deleting member:', memberIndex);
            
            // Show loading state
            button.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
            button.disabled = true;
            
            // Make DELETE request to server
            fetch(`/admin/team/delete-member/${memberIndex}`, {
                method: 'DELETE',
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Remove from DOM on successful deletion
                    memberCard.remove();
                    console.log('Team member deleted successfully');
                } else {
                    alert('Failed to delete team member: ' + data.message);
                    // Reset button
                    button.innerHTML = '<i class="fas fa-trash"></i>';
                    button.disabled = false;
                }
            })
            .catch(error => {
                console.error('Delete error:', error);
                alert('Error deleting team member');
                // Reset button
                button.innerHTML = '<i class="fas fa-trash"></i>';
                button.disabled = false;
            });
        }
    }

    function saveTeamMember(memberIndex) {
        // Get all form data for this specific team member
        const memberCard = document.querySelector(`[name="team[member${memberIndex}_name]"]`).closest('.team-member-card');
        const formData = new FormData();
        
        // Add member index
        formData.append('memberIndex', memberIndex);
        
        // Get all inputs within this member card
        const inputs = memberCard.querySelectorAll('input, textarea, select');
        inputs.forEach(input => {
            if (input.type === 'file') {
                if (input.files[0]) {
                    // Use the correct fieldname format for file uploads
                    const fieldName = `member${memberIndex}_photo`;
                    formData.append(fieldName, input.files[0]);
                    console.log('Adding file:', fieldName, input.files[0].name);
                }
            } else {
                formData.append(input.name, input.value);
            }
        });
        
        console.log('Submitting form data for member', memberIndex);
        
        // Submit via AJAX
        fetch('/admin/team/update-single', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // Show success message
                const saveBtn = memberCard.querySelector('button[onclick*="saveTeamMember"]');
                const originalText = saveBtn.innerHTML;
                saveBtn.innerHTML = '<i class="fas fa-check mr-1"></i>Saved';
                saveBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                saveBtn.classList.add('bg-green-600', 'hover:bg-green-700');
                
                // If photo was uploaded, update the current photo display
                if (data.photoUploaded && data.uploadedFileName) {
                    // Update existing photo display or create new one
                    let currentPhotoDiv = memberCard.querySelector('.w-20.h-20.border.border-gray-300.rounded-lg.overflow-hidden');
                    if (currentPhotoDiv) {
                        const img = currentPhotoDiv.querySelector('img');
                        if (img) {
                            img.src = `/media/${data.uploadedFileName}`;
                        }
                        // Update the "Current: filename" text
                        const currentText = memberCard.querySelector('p.text-xs.text-gray-500');
                        if (currentText && currentText.textContent.includes('Current:')) {
                            currentText.textContent = `Current: ${data.uploadedFileName}`;
                        }
                    } else {
                        // Create new current photo display if it doesn't exist
                        const photoLabel = memberCard.querySelector('label:contains("Profile Photo")');
                        if (photoLabel) {
                            const newPhotoDiv = document.createElement('div');
                            newPhotoDiv.className = 'mb-3';
                            newPhotoDiv.innerHTML = `
                                <div class="w-20 h-20 border border-gray-300 rounded-lg overflow-hidden">
                                    <img src="/media/${data.uploadedFileName}" alt="Profile Photo" class="w-full h-full object-cover">
                                </div>
                                <p class="text-xs text-gray-500 mt-1">Current: ${data.uploadedFileName}</p>
                            `;
                            photoLabel.parentNode.insertBefore(newPhotoDiv, photoLabel.nextSibling);
                        }
                    }
                    
                    // Hide preview and filename display
                    const preview = memberCard.querySelector(`#photoPreview${memberIndex}`);
                    if (preview) preview.classList.add('hidden');
                    
                    const fileNameDiv = memberCard.querySelector(`#fileName${memberIndex}`);
                    if (fileNameDiv) fileNameDiv.classList.add('hidden');
                    
                    // Clear file input
                    const fileInput = memberCard.querySelector(`#member${memberIndex}_photo`);
                    if (fileInput) fileInput.value = '';
                }
                
                setTimeout(() => {
                    saveBtn.innerHTML = originalText;
                    saveBtn.classList.remove('bg-green-600', 'hover:bg-green-700');
                    saveBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                }, 2000);
            } else {
                alert('Error saving team member: ' + data.message);
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert('Error saving team member');
        });
    }

    function handleTeamPhotoUpload(input, memberIndex) {
        const file = input.files[0];
        if (file) {
            // Show filename
            const fileNameDiv = document.getElementById('fileName' + memberIndex);
            const fileNameText = document.getElementById('fileNameText' + memberIndex);
            fileNameText.textContent = file.name;
            fileNameDiv.classList.remove('hidden');
            
            // Show preview
            const preview = document.getElementById('photoPreview' + memberIndex);
            const img = preview.querySelector('img');
            
            const reader = new FileReader();
            reader.onload = function(e) {
                img.src = e.target.result;
                preview.classList.remove('hidden');
            };
            reader.readAsDataURL(file);
        }
    }
    
    function clearSelectedFile(memberIndex) {
        // Clear file input
        const fileInput = document.getElementById('member' + memberIndex + '_photo');
        fileInput.value = '';
        
        // Hide filename display
        const fileNameDiv = document.getElementById('fileName' + memberIndex);
        fileNameDiv.classList.add('hidden');
        
        // Hide preview
        const preview = document.getElementById('photoPreview' + memberIndex);
        preview.classList.add('hidden');
    }

    // Form auto-save functionality
    document.addEventListener('DOMContentLoaded', function() {
        const forms = document.querySelectorAll('form');
        
        forms.forEach(form => {
            const inputs = form.querySelectorAll('input, textarea, select');
            
            inputs.forEach(input => {
                input.addEventListener('change', function() {
                    // Auto-save indication
                    const indicator = document.createElement('span');
                    indicator.className = 'text-xs text-green-600 ml-2';
                    indicator.textContent = 'âœ“ Saved';
                    
                    // Remove existing indicators
                    const existingIndicator = this.parentNode.querySelector('.text-green-600');
                    if (existingIndicator) {
                        existingIndicator.remove();
                    }
                    
                    // Add new indicator
                    this.parentNode.appendChild(indicator);
                    
                    // Remove after 2 seconds
                    setTimeout(() => {
                        indicator.remove();
                    }, 2000);
                });
            });
        });
    });

    // Icon preview functionality for concept section
    function previewIcon(input, previewId) {
        const file = input.files[0];
        const preview = document.getElementById(previewId);
        
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = preview.querySelector('img');
                const span = preview.querySelector('span');
                
                img.src = e.target.result;
                span.textContent = file.name;
                preview.classList.remove('hidden');
            };
            reader.readAsDataURL(file);
        } else {
            preview.classList.add('hidden');
        }
    }

    function clearIconUpload(inputName, previewId) {
        // Clear file input
        const fileInput = document.querySelector(`input[name="${inputName}"]`);
        if (fileInput) {
            fileInput.value = '';
        }
        
        // Hide preview
        const preview = document.getElementById(previewId);
        if (preview) {
            preview.classList.add('hidden');
        }
    }

    // Contact Management Functions
    let contactsPage = 1;
    let contactsLoading = false;

    async function loadContacts(page = 1, append = false) {
        if (contactsLoading) return;
        contactsLoading = true;

        try {
            const response = await fetch(`/admin/api/contacts?page=${page}&limit=10`);
            const data = await response.json();

            if (data.success) {
                // Update stats
                document.getElementById('total-contacts').textContent = data.stats.total || 0;
                document.getElementById('new-contacts').textContent = data.stats.new || 0;
                document.getElementById('replied-contacts').textContent = data.stats.replied || 0;
                document.getElementById('archived-contacts').textContent = data.stats.archived || 0;

                // Update contacts list
                const contactsList = document.getElementById('contacts-list');
                
                if (!append) {
                    contactsList.innerHTML = '';
                }

                if (data.contacts && data.contacts.length > 0) {
                    data.contacts.forEach(contact => {
                        const contactElement = createContactElement(contact);
                        contactsList.appendChild(contactElement);
                    });

                    // Show/hide load more button
                    const loadMoreBtn = document.getElementById('load-more-btn');
                    if (data.hasMore) {
                        loadMoreBtn.style.display = 'block';
                        contactsPage = page + 1;
                    } else {
                        loadMoreBtn.style.display = 'none';
                    }
                } else if (!append) {
                    contactsList.innerHTML = '<div class="text-center text-gray-500 py-8"><i class="fas fa-inbox text-2xl mb-2"></i><p>No contact submissions yet.</p></div>';
                }
            }
        } catch (error) {
            console.error('Error loading contacts:', error);
            document.getElementById('contacts-list').innerHTML = '<div class="text-center text-red-500 py-8"><i class="fas fa-exclamation-triangle text-2xl mb-2"></i><p>Error loading contacts. Please try again.</p></div>';
        } finally {
            contactsLoading = false;
        }
    }

    function createContactElement(contact) {
        const div = document.createElement('div');
        div.className = 'border border-gray-200 rounded-lg p-3';
        
        const statusColor = {
            'new': 'bg-yellow-100 text-yellow-800',
            'read': 'bg-blue-100 text-blue-800',
            'replied': 'bg-green-100 text-green-800',
            'archived': 'bg-gray-100 text-gray-800'
        };

        const timeAgo = getTimeAgo(new Date(contact.createdAt));
        
        div.innerHTML = `
            <div class="flex justify-between items-start mb-2">
                <h4 class="font-medium text-gray-900">${escapeHtml(contact.name)}</h4>
                <div class="flex items-center space-x-2">
                    <span class="text-xs px-2 py-1 rounded ${statusColor[contact.status] || statusColor.new}">${contact.status}</span>
                    <span class="text-xs text-gray-500">${timeAgo}</span>
                </div>
            </div>
            <p class="text-sm text-gray-600">${escapeHtml(contact.email)} â€¢ ${escapeHtml(contact.phone)}</p>
            <p class="text-sm text-gray-600">Service: ${escapeHtml(contact.service)}</p>
            <p class="text-sm text-gray-700 mt-2">${escapeHtml(contact.message.substring(0, 100))}${contact.message.length > 100 ? '...' : ''}</p>
            <div class="mt-2 flex space-x-2">
                <button onclick="replyToContact('${contact._id}')" class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded hover:bg-green-200">Reply</button>
                <button onclick="updateContactStatus('${contact._id}', 'archived')" class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded hover:bg-gray-200">Archive</button>
                <button onclick="deleteContact('${contact._id}')" class="text-xs bg-red-100 text-red-800 px-2 py-1 rounded hover:bg-red-200">Delete</button>
            </div>
        `;
        
        return div;
    }

    function getTimeAgo(date) {
        const now = new Date();
        const diff = now - date;
        const seconds = Math.floor(diff / 1000);
        const minutes = Math.floor(seconds / 60);
        const hours = Math.floor(minutes / 60);
        const days = Math.floor(hours / 24);

        if (days > 0) return `${days} day${days > 1 ? 's' : ''} ago`;
        if (hours > 0) return `${hours} hour${hours > 1 ? 's' : ''} ago`;
        if (minutes > 0) return `${minutes} minute${minutes > 1 ? 's' : ''} ago`;
        return 'Just now';
    }

    function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }

    function refreshContacts() {
        contactsPage = 1;
        loadContacts(1, false);
    }

    function loadMoreContacts() {
        loadContacts(contactsPage, true);
    }

    async function replyToContact(contactId) {
        const reply = prompt('Enter your reply:');
        if (reply) {
            try {
                const response = await fetch(`/admin/contacts/${contactId}/reply`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ replyMessage: reply })
                });
                const data = await response.json();
                if (data.success) {
                    alert('Reply sent successfully!');
                    refreshContacts();
                } else {
                    alert('Error sending reply: ' + data.message);
                }
            } catch (error) {
                alert('Error sending reply. Please try again.');
            }
        }
    }

    async function updateContactStatus(contactId, status) {
        try {
            const response = await fetch(`/admin/contacts/${contactId}/status`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ status })
            });
            const data = await response.json();
            if (data.success) {
                refreshContacts();
            } else {
                alert('Error updating status: ' + data.message);
            }
        } catch (error) {
            alert('Error updating status. Please try again.');
        }
    }

    async function deleteContact(contactId) {
        if (confirm('Are you sure you want to delete this contact submission?')) {
            try {
                const response = await fetch(`/admin/contacts/${contactId}`, {
                    method: 'DELETE'
                });
                const data = await response.json();
                if (data.success) {
                    refreshContacts();
                } else {
                    alert('Error deleting contact: ' + data.message);
                }
            } catch (error) {
                alert('Error deleting contact. Please try again.');
            }
        }
    }

    // Load contacts when contact section is shown
    document.addEventListener('DOMContentLoaded', function() {
        // Load contacts initially if contact section is visible
        const contactSection = document.getElementById('contact-section');
        if (contactSection && !contactSection.classList.contains('hidden')) {
            loadContacts();
        }
    });

    // Override the showSection function to load contacts when contact section is shown
    const originalShowSection = window.showSection;
    window.showSection = function(sectionName) {
        if (originalShowSection) {
            originalShowSection(sectionName);
        }
        
        if (sectionName === 'contact') {
            setTimeout(() => {
                loadContacts();
            }, 100);
        }
    };
</script>

<!-- Newsletter Section -->
<div id="newsletter-section" class="content-section hidden">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="mb-6">
            <h2 class="text-2xl font-bold text-gray-900 mb-2">Newsletter Management</h2>
            <p class="text-gray-600">Manage newsletter subscribers and send campaigns.</p>
        </div>

        <!-- Newsletter Stats -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
        <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg shadow-sm p-6 text-white">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-blue-100 text-sm font-medium">Total Subscribers</p>
                    <p class="text-3xl font-bold" id="totalSubscribers">1,234</p>
                </div>
                <div class="w-12 h-12 bg-blue-400 bg-opacity-30 rounded-lg flex items-center justify-center">
                    <i class="fas fa-users text-2xl"></i>
                </div>
            </div>
            <div class="mt-4 flex items-center">
                <i class="fas fa-arrow-up text-green-300 mr-1"></i>
                <span class="text-green-300 text-sm">+12% from last month</span>
            </div>
        </div>

        <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-lg shadow-sm p-6 text-white">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-green-100 text-sm font-medium">Active Campaigns</p>
                    <p class="text-3xl font-bold" id="activeCampaigns">3</p>
                </div>
                <div class="w-12 h-12 bg-green-400 bg-opacity-30 rounded-lg flex items-center justify-center">
                    <i class="fas fa-paper-plane text-2xl"></i>
                </div>
            </div>
            <div class="mt-4 flex items-center">
                <i class="fas fa-check text-green-300 mr-1"></i>
                <span class="text-green-300 text-sm">2 sent this week</span>
            </div>
        </div>

        <div class="bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg shadow-sm p-6 text-white">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-purple-100 text-sm font-medium">Open Rate</p>
                    <p class="text-3xl font-bold" id="openRate">24.5%</p>
                </div>
                <div class="w-12 h-12 bg-purple-400 bg-opacity-30 rounded-lg flex items-center justify-center">
                    <i class="fas fa-envelope-open text-2xl"></i>
                </div>
            </div>
            <div class="mt-4 flex items-center">
                <i class="fas fa-arrow-up text-green-300 mr-1"></i>
                <span class="text-green-300 text-sm">+2.1% this month</span>
            </div>
        </div>

        <div class="bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg shadow-sm p-6 text-white">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-orange-100 text-sm font-medium">Click Rate</p>
                    <p class="text-3xl font-bold" id="clickRate">3.2%</p>
                </div>
                <div class="w-12 h-12 bg-orange-400 bg-opacity-30 rounded-lg flex items-center justify-center">
                    <i class="fas fa-mouse-pointer text-2xl"></i>
                </div>
            </div>
            <div class="mt-4 flex items-center">
                <i class="fas fa-arrow-up text-green-300 mr-1"></i>
                <span class="text-green-300 text-sm">+0.5% this month</span>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
        <!-- Create Campaign -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-gray-900">Create New Campaign</h3>
                <i class="fas fa-plus-circle text-blue-600 text-xl"></i>
            </div>
            <form class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Campaign Name</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter campaign name">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Subject Line</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter email subject">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Campaign Type</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option>Weekly Newsletter</option>
                        <option>Fitness Tips</option>
                        <option>New Blog Post</option>
                        <option>Special Offer</option>
                    </select>
                </div>
                <button type="button" class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200">
                    <i class="fas fa-rocket mr-2"></i>Create Campaign
                </button>
            </form>
        </div>

        <!-- Recent Subscribers -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-gray-900">Recent Subscribers</h3>
                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                    <span class="w-2 h-2 bg-green-400 rounded-full mr-1 animate-pulse"></span>
                    Live
                </span>
            </div>
            <div class="space-y-3">
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition duration-200">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                            <span class="text-white text-sm font-medium">JD</span>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">john.doe@email.com</p>
                            <p class="text-xs text-gray-500">2 hours ago</p>
                        </div>
                    </div>
                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                        Active
                    </span>
                </div>
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition duration-200">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center">
                            <span class="text-white text-sm font-medium">SM</span>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">sarah.miller@email.com</p>
                            <p class="text-xs text-gray-500">5 hours ago</p>
                        </div>
                    </div>
                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                        Active
                    </span>
                </div>
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition duration-200">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                            <span class="text-white text-sm font-medium">MJ</span>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">mike.johnson@email.com</p>
                            <p class="text-xs text-gray-500">1 day ago</p>
                        </div>
                    </div>
                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
                        Pending
                    </span>
                </div>
            </div>
            <div class="mt-4 pt-4 border-t border-gray-200">
                <button class="w-full text-blue-600 hover:text-blue-800 text-sm font-medium">
                    View All Subscribers <i class="fas fa-arrow-right ml-1"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Campaign Performance -->
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
        <div class="flex items-center justify-between mb-6">
            <h3 class="text-lg font-semibold text-gray-900">Campaign Performance</h3>
            <div class="flex space-x-2">
                <button class="px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200">
                    Last 7 days
                </button>
                <button class="px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-lg">
                    Last 30 days
                </button>
            </div>
        </div>
        <div class="h-64">
            <canvas id="newsletterChart"></canvas>
        </div>
    </div>
    </div>
</div>

<!-- FAQ Section -->
<div id="faq-section" class="content-section hidden">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="mb-6">
            <h2 class="text-2xl font-bold text-gray-900 mb-2">FAQ Management</h2>
            <p class="text-gray-600">Manage frequently asked questions for your website.</p>
        </div>

    <!-- FAQ Stats -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <div class="bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-lg shadow-sm p-6 text-white">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-indigo-100 text-sm font-medium">Total FAQs</p>
                    <p class="text-3xl font-bold" id="totalFaqs">24</p>
                </div>
                <div class="w-12 h-12 bg-indigo-400 bg-opacity-30 rounded-lg flex items-center justify-center">
                    <i class="fas fa-question-circle text-2xl"></i>
                </div>
            </div>
            <div class="mt-4 flex items-center">
                <i class="fas fa-plus text-green-300 mr-1"></i>
                <span class="text-green-300 text-sm">4 added this month</span>
            </div>
        </div>

        <div class="bg-gradient-to-r from-teal-500 to-teal-600 rounded-lg shadow-sm p-6 text-white">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-teal-100 text-sm font-medium">Categories</p>
                    <p class="text-3xl font-bold" id="faqCategories">5</p>
                </div>
                <div class="w-12 h-12 bg-teal-400 bg-opacity-30 rounded-lg flex items-center justify-center">
                    <i class="fas fa-tags text-2xl"></i>
                </div>
            </div>
            <div class="mt-4 flex items-center">
                <i class="fas fa-layer-group text-teal-300 mr-1"></i>
                <span class="text-teal-300 text-sm">Well organized</span>
            </div>
        </div>

        <div class="bg-gradient-to-r from-pink-500 to-pink-600 rounded-lg shadow-sm p-6 text-white">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-pink-100 text-sm font-medium">Most Popular</p>
                    <p class="text-lg font-bold" id="popularFaq">Pricing FAQ</p>
                </div>
                <div class="w-12 h-12 bg-pink-400 bg-opacity-30 rounded-lg flex items-center justify-center">
                    <i class="fas fa-fire text-2xl"></i>
                </div>
            </div>
            <div class="mt-4 flex items-center">
                <i class="fas fa-eye text-pink-300 mr-1"></i>
                <span class="text-pink-300 text-sm">1.2k views</span>
            </div>
        </div>
    </div>

    <!-- Add New FAQ and Categories -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
        <!-- Add New FAQ -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-gray-900">Add New FAQ</h3>
                <i class="fas fa-plus-circle text-indigo-600 text-xl"></i>
            </div>
            <form class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Question</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Enter the question">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Answer</label>
                    <textarea rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Enter the answer"></textarea>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Category</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <option>General</option>
                        <option>Pricing</option>
                        <option>Training</option>
                        <option>Nutrition</option>
                        <option>Equipment</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Priority</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <option>High</option>
                        <option selected>Medium</option>
                        <option>Low</option>
                    </select>
                </div>
                <button type="button" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition duration-200">
                    <i class="fas fa-save mr-2"></i>Add FAQ
                </button>
            </form>
        </div>

        <!-- FAQ Categories -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-gray-900">FAQ Categories</h3>
                <button class="text-indigo-600 hover:text-indigo-800 text-sm font-medium">
                    <i class="fas fa-plus mr-1"></i>Add Category
                </button>
            </div>
            <div class="space-y-3">
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center">
                            <i class="fas fa-info text-white text-sm"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">General</p>
                            <p class="text-xs text-gray-500">8 questions</p>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button class="text-blue-600 hover:text-blue-800">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="text-red-600 hover:text-red-800">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center">
                            <i class="fas fa-dollar-sign text-white text-sm"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">Pricing</p>
                            <p class="text-xs text-gray-500">6 questions</p>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button class="text-blue-600 hover:text-blue-800">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="text-red-600 hover:text-red-800">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center">
                            <i class="fas fa-dumbbell text-white text-sm"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">Training</p>
                            <p class="text-xs text-gray-500">5 questions</p>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button class="text-blue-600 hover:text-blue-800">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="text-red-600 hover:text-red-800">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center">
                            <i class="fas fa-apple-alt text-white text-sm"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">Nutrition</p>
                            <p class="text-xs text-gray-500">3 questions</p>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button class="text-blue-600 hover:text-blue-800">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="text-red-600 hover:text-red-800">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center">
                            <i class="fas fa-tools text-white text-sm"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">Equipment</p>
                            <p class="text-xs text-gray-500">2 questions</p>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button class="text-blue-600 hover:text-blue-800">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="text-red-600 hover:text-red-800">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- FAQ List -->
    <div class="bg-white rounded-lg shadow-sm border border-gray-200">
        <div class="px-6 py-4 border-b border-gray-200">
            <div class="flex items-center justify-between">
                <h3 class="text-lg font-semibold text-gray-900">All FAQs</h3>
                <div class="flex space-x-2">
                    <input type="search" placeholder="Search FAQs..." class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm">
                    <select class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm">
                        <option>All Categories</option>
                        <option>General</option>
                        <option>Pricing</option>
                        <option>Training</option>
                        <option>Nutrition</option>
                        <option>Equipment</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="divide-y divide-gray-200">
            <!-- FAQ Item 1 -->
            <div class="p-6 hover:bg-gray-50 transition duration-200">
                <div class="flex items-start justify-between">
                    <div class="flex-1">
                        <div class="flex items-center space-x-3 mb-2">
                            <h4 class="text-sm font-medium text-gray-900">What equipment do I need to get started?</h4>
                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                Equipment
                            </span>
                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                High Priority
                            </span>
                        </div>
                        <p class="text-sm text-gray-600 mb-3">You don't need much to get started! Basic equipment includes comfortable workout clothes, a yoga mat, and some water. We'll provide guidance on additional equipment as you progress.</p>
                        <div class="flex items-center space-x-4 text-xs text-gray-500">
                            <span><i class="fas fa-eye mr-1"></i>342 views</span>
                            <span><i class="fas fa-thumbs-up mr-1"></i>28 helpful</span>
                            <span><i class="fas fa-clock mr-1"></i>Updated 2 days ago</span>
                        </div>
                    </div>
                    <div class="flex space-x-2 ml-4">
                        <button class="text-blue-600 hover:text-blue-800">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="text-red-600 hover:text-red-800">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- FAQ Item 2 -->
            <div class="p-6 hover:bg-gray-50 transition duration-200">
                <div class="flex items-start justify-between">
                    <div class="flex-1">
                        <div class="flex items-center space-x-3 mb-2">
                            <h4 class="text-sm font-medium text-gray-900">How much do personal training sessions cost?</h4>
                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                Pricing
                            </span>
                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800">
                                High Priority
                            </span>
                        </div>
                        <p class="text-sm text-gray-600 mb-3">Our personal training sessions start at $75 per session. We offer package deals and monthly memberships that can reduce the per-session cost. Contact us for a personalized quote!</p>
                        <div class="flex items-center space-x-4 text-xs text-gray-500">
                            <span><i class="fas fa-eye mr-1"></i>1.2k views</span>
                            <span><i class="fas fa-thumbs-up mr-1"></i>89 helpful</span>
                            <span><i class="fas fa-clock mr-1"></i>Updated 1 week ago</span>
                        </div>
                    </div>
                    <div class="flex space-x-2 ml-4">
                        <button class="text-blue-600 hover:text-blue-800">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="text-red-600 hover:text-red-800">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- FAQ Item 3 -->
            <div class="p-6 hover:bg-gray-50 transition duration-200">
                <div class="flex items-start justify-between">
                    <div class="flex-1">
                        <div class="flex items-center space-x-3 mb-2">
                            <h4 class="text-sm font-medium text-gray-900">Can I cancel my membership anytime?</h4>
                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                General
                            </span>
                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                Medium Priority
                            </span>
                        </div>
                        <p class="text-sm text-gray-600 mb-3">Yes! We believe in flexible memberships. You can cancel anytime with a 30-day notice. There are no hidden fees or cancellation charges.</p>
                        <div class="flex items-center space-x-4 text-xs text-gray-500">
                            <span><i class="fas fa-eye mr-1"></i>876 views</span>
                            <span><i class="fas fa-thumbs-up mr-1"></i>67 helpful</span>
                            <span><i class="fas fa-clock mr-1"></i>Updated 3 days ago</span>
                        </div>
                    </div>
                    <div class="flex space-x-2 ml-4">
                        <button class="text-blue-600 hover:text-blue-800">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="text-red-600 hover:text-red-800">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="px-6 py-4 border-t border-gray-200 bg-gray-50">
            <div class="flex items-center justify-between">
                <span class="text-sm text-gray-700">Showing 3 of 24 FAQs</span>
                <div class="flex space-x-2">
                    <button class="px-3 py-1 text-sm border border-gray-300 rounded-lg hover:bg-gray-100">Previous</button>
                    <button class="px-3 py-1 text-sm bg-indigo-600 text-white rounded-lg hover:bg-indigo-700">Next</button>
                </div>
            </div>
        </div>
    </div>
    </div>
</div>

<script>
    // Newsletter Chart
    function initializeNewsletterChart() {
        const ctx = document.getElementById('newsletterChart');
        if (!ctx) return;
        
        new Chart(ctx.getContext('2d'), {
            type: 'line',
            data: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                datasets: [{
                    label: 'Subscribers',
                    data: [1180, 1205, 1234, 1234],
                    borderColor: '#3B82F6',
                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                    tension: 0.4,
                    fill: true
                }, {
                    label: 'Open Rate %',
                    data: [22.3, 23.1, 24.2, 24.5],
                    borderColor: '#10B981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    tension: 0.4,
                    fill: true,
                    yAxisID: 'y1'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        grid: {
                            drawOnChartArea: false,
                        },
                    },
                    x: {
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    }
                }
            }
        });
    }

    // Initialize newsletter chart when newsletter section is shown
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize on page load if newsletter section is visible
        if (document.getElementById('newsletter-section') && !document.getElementById('newsletter-section').classList.contains('hidden')) {
            initializeNewsletterChart();
        }
    });

    // Override showSection function to handle newsletter chart
    if (!window.originalShowSectionNewsletterDefined) {
        const originalShowSection = window.showSection;
        window.showSection = function(sectionName) {
            originalShowSection(sectionName);
            
            if (sectionName === 'newsletter') {
                setTimeout(() => {
                    initializeNewsletterChart();
                }, 100);
            }
        };
        window.originalShowSectionNewsletterDefined = true;
    }
</script>
